# cbindgen configuration for generating C headers

language = "C"
style = "both"
cpp_compat = true
pragma_once = true
include_guard = "TITAN_ENGINE_H"
autogen_warning = "/* Warning, this file is autogenerated by cbindgen. Don't modify this manually. */"
include_version = true
namespace = "TitanEngine"
tab_width = 4
line_length = 100
documentation = true
documentation_style = "c99"

[defines]
"feature = webrender" = "TITAN_WEBRENDER_ENABLED"
"feature = v8" = "TITAN_V8_ENABLED"
"feature = media" = "TITAN_MEDIA_ENABLED"

[export]
include = [
    "titan_engine_init",
    "titan_engine_shutdown",
    "titan_engine_load_page",
    "titan_engine_execute_javascript",
    "titan_engine_get_ai_analysis",
    "titan_engine_validate_url_security",
    "titan_engine_get_network_metrics",
    "titan_engine_set_config",
    "titan_engine_get_performance_metrics",
    "titan_engine_free_string",
    "titan_engine_get_version",
    "titan_engine_is_initialized",
    "titan_engine_media_play",
    "titan_engine_media_pause",
    "titan_engine_media_set_volume",
    "titan_engine_storage_set",
    "titan_engine_storage_get",
    "titan_engine_set_progress_callback",
    "titan_engine_set_event_callback",
    "titan_engine_set_error_callback",
]

[parse]
parse_deps = true
include = ["tokio", "serde", "uuid"]
exclude = ["winit", "wgpu"]

[fn]
rename_args = "GeckoCase"
must_use = "WARN_UNUSED_RESULT"

[struct]
rename_fields = "GeckoCase"
derive_eq = true
derive_neq = true

[enum]
rename_variants = "GeckoCase"
add_sentinel = true
prefix_with_name = true

[macro_expansion]
bitflags = true